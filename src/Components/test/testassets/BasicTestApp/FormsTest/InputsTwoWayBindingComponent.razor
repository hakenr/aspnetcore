@using Microsoft.AspNetCore.Components.Forms

<EditForm Model="model">
    <DerivedInputTextComponent @bind-Value="@model.TextValue" id="derived-input-text" />
    <DerivedInputTextareaComponent @bind-Value="@model.TextValue" id="derived-input-textarea" />
    <DerivedInputDateComponent @bind-Value="@model.DateValue" id="derived-input-date" />
    <InputNumber @bind-Value="@model.IntValue" id="derived-input-number" />
    <DerivedInputCheckboxComponent @bind-Value="@model.BoolValue" id="derived-input-checkbox" />
    <DerivedInputRadioGroupComponent @bind-Value="@model.RadioValue">
        <InputRadio Value="@DayOfWeek.Saturday" id="input-radio-sunday" />
    </DerivedInputRadioGroupComponent>
    <DerivedInputSelectComponent @bind-Value="@model.SelectValue" id="derived-select">
        <option value="@DayOfWeek.Friday">Friday</option>
        <option value="@DayOfWeek.Monday">Monday</option>
    </DerivedInputSelectComponent>
    <DerivedInputSelectMultipleComponent @bind-Value="@model.SelectMultipleValue" id="derived-select-multiple">
        <option value="@DayOfWeek.Friday">Friday</option>
        <option value="@DayOfWeek.Monday">Monday</option>
        <option value="@DayOfWeek.Tuesday">Tuesday</option>
    </DerivedInputSelectMultipleComponent>
</EditForm>

<button id="move-focus-button">Move focus</button>

@code
{
    // Repro for https://github.com/dotnet/aspnetcore/issues/40097

    private Model model = new Model();
    private class Model
    {
        public string TextValue { get; set; }
        public DateTime? DateValue { get; set; }

        public int? IntValue
        {
            get => _intValue;
            set
            {
                if (value == 1)
                {
                    _intValue = 0;
                }
                else
                {
                    _intValue = value;
                }
            }
        }
        private int? _intValue;

        public bool BoolValue { get; set; }
        public DayOfWeek RadioValue { get; set; } = DayOfWeek.Monday;
        public DayOfWeek SelectValue { get; set; } = DayOfWeek.Monday;
        public DayOfWeek[] SelectMultipleValue { get; set; } = DerivedInputSelectMultipleComponent.FixedValue;
    }
}
